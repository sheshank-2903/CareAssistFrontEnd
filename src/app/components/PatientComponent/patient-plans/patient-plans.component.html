<app-patient></app-patient>

<div class="container" style="margin-top: 2%;">
    <div class="d-flex" style="margin-bottom: 2%;">
        <input class="form-control" type="search" placeholder="Search" aria-label="Search">
        <button type="button" class="btn btn-outline-info ml-3">
          <i class="bi bi-search"></i>
          Search By Id
        </button>
        <button type="button" class="btn btn-outline-info ml-3">
          <i class="bi bi-search"></i>
          Search By Name
        </button>
    </div>
    <table class="table mt-10% table-hover table-bordered text-center">
        <thead class="thead-dark">
          <tr>
            <th>#planId</th>
            <th>Name</th>
            <th>Description</th>
            <th>Date of Creation</th>
            <th>Coverage Amount</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let plan of plansList">
            <th>{{plan.planId}}</th>
            <td>{{plan.planName}}</td>
            <th>{{plan.description}}</th>
            <th>{{plan.dateOfIssue}}</th>
            <td>{{plan.coverageAmount}}</td>
            <td>
                <button type="button" class="btn btn-success" (click)="confirmPurchase()">
                  +
                  Purchase Plan
                </button>
            </td>
          </tr>
        </tbody>
      </table>
</div >

<div class="confirm-purchase-popup" id="confirmPurchaseDisplay">
<form #purchaseForm="ngForm" >
  <label style="display: block; ">Please confirm your purchase by typing "CONFIRM" below: </label>
  <input type="text" style="margin: 2%;  width: 82%;" name="confirmation" ngModel required>
  <div >
  <button class="btn btn-success" style="margin-right: 2%; margin-top:2% ; width: 40%;" (click)="confirmPurchaseCompleted()"
   [disabled]="purchaseForm.value.confirmation!=='CONFIRM'" >Confirm Purchase</button>
  <button class="btn btn-danger" style=" width: 40%; margin-top:2% ;" (click)="closeConfirmPurchase()">Cancel</button>
</div>
<button type="button" style="  position: absolute; top: 0%; right: 0%;" class="btn btn-danger" (click)="closeConfirmPurchase()">
  <i class="bi bi-x-circle"></i>
</button>
</form>
</div>

